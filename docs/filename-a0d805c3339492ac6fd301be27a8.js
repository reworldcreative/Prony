"use strict";(self.webpackChunkwebpackreact=self.webpackChunkwebpackreact||[]).push([[5083],{571217:function(e,t,n){var r,a,o,l,s;n.d(t,{W:function(){return u}}),r=n(487462),a=n(667294),o=n(222010),l=n(902161),s=n(196107);const i=e=>null!=e.saveQuery,u=({sections:e,updateSectionValue:t,sectionsValueBoundaries:n,localizedDigits:u,setTempAndroidValueStr:c,timezone:d})=>{const m=(0,l.nB)(),[f,p]=a.useState(null),h=(0,o.Z)((()=>p(null)));a.useEffect((()=>{null!=f&&e[f.sectionIndex]?.type!==f.sectionType&&h()}),[e,f,h]),a.useEffect((()=>{if(null!=f){const e=setTimeout((()=>h()),5e3);return()=>{clearTimeout(e)}}return()=>{}}),[f,h]);const g=({keyPressed:t,sectionIndex:n},r,a)=>{const o=t.toLowerCase(),l=e[n];if(null!=f&&(!a||a(f.value))&&f.sectionIndex===n){const e=`${f.value}${o}`,t=r(e,l);if(!i(t))return p({sectionIndex:n,value:e,sectionType:l.type}),t}const s=r(o,l);return i(s)&&!s.saveQuery?(h(),null):(p({sectionIndex:n,value:o,sectionType:l.type}),i(s)?null:s)};return{applyCharacterEditing:(0,o.Z)((a=>{const o=e[a.sectionIndex],l=(0,s.j5)(a.keyPressed,u)?(e=>{const t=(e,t)=>{const r=(0,s.Ay)(e,u),a=Number(r),o=n[t.type]({currentDate:null,format:t.format,contentType:t.contentType});if(a>o.maximum)return{saveQuery:!1};if(a<o.minimum)return{saveQuery:!0};const l=10*a>o.maximum||r.length===o.maximum.toString().length;return{sectionValue:(0,s.P$)(m,a,o,u,t),shouldGoToNextSection:l}};return g(e,((e,n)=>{if("digit"===n.contentType||"digit-with-letter"===n.contentType)return t(e,n);if("month"===n.type){const a=(0,s.Su)(m,d,"digit","month","MM"),o=t(e,{type:n.type,format:"MM",hasLeadingZerosInFormat:a,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(i(o))return o;const l=(0,s.Yo)(m,o.sectionValue,"MM",n.format);return(0,r.Z)({},o,{sectionValue:l})}if("weekDay"===n.type){const a=t(e,n);if(i(a))return a;const o=(0,s.R7)(m,d,n.format)[Number(a.sectionValue)-1];return(0,r.Z)({},a,{sectionValue:o})}return{saveQuery:!1}}),(e=>(0,s.j5)(e,u)))})((0,r.Z)({},a,{keyPressed:(0,s.Gq)(a.keyPressed,u)})):(e=>{const t=(e,t,n)=>{const r=t.filter((e=>e.toLowerCase().startsWith(n)));return 0===r.length?{saveQuery:!1}:{sectionValue:r[0],shouldGoToNextSection:1===r.length}},n=(e,n,a,o)=>{const l=e=>(0,s.wk)(m,d,n.type,e);if("letter"===n.contentType)return t(n.format,l(n.format),e);if(a&&null!=o&&"letter"===(0,s.z1)(m,a).contentType){const n=l(a),s=t(0,n,e);return i(s)?{saveQuery:!1}:(0,r.Z)({},s,{sectionValue:o(s.sectionValue,n)})}return{saveQuery:!1}};return g(e,((e,t)=>{switch(t.type){case"month":{const r=e=>(0,s.Yo)(m,e,m.formats.month,t.format);return n(e,t,m.formats.month,r)}case"weekDay":{const r=(e,t)=>t.indexOf(e).toString();return n(e,t,m.formats.weekday,r)}case"meridiem":return n(e,t);default:return{saveQuery:!1}}}))})(a);null!=l?t({activeSection:o,newSectionValue:l.sectionValue,shouldGoToNextSection:l.shouldGoToNextSection}):c(null)})),resetCharacterQuery:h}}},568395:function(e,t,n){var r,a,o,l,s,i,u,c;n.d(t,{t:function(){return p}}),r=n(487462),a=n(667294),o=n(381222),l=n(202734),s=n(902161),i=n(196107);const d=(e,t,n,r,a)=>{switch(r.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,t),a).length,format:a});case"month":return n.fieldMonthPlaceholder({contentType:r.contentType,format:a});case"day":return n.fieldDayPlaceholder({format:a});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:r.contentType,format:a});case"hours":return n.fieldHoursPlaceholder({format:a});case"minutes":return n.fieldMinutesPlaceholder({format:a});case"seconds":return n.fieldSecondsPlaceholder({format:a});case"meridiem":return n.fieldMeridiemPlaceholder({format:a});default:return a}},m=({utils:e,timezone:t,date:n,shouldRespectLeadingZeros:a,localeText:o,localizedDigits:l,now:s,token:u,startSeparator:c})=>{if(""===u)throw new Error("MUI X: Should not call `commitToken` with an empty token");const m=(0,i.z1)(e,u),f=(0,i.Su)(e,t,m.contentType,m.type,u),p=a?f:"digit"===m.contentType,h=null!=n&&e.isValid(n);let g=h?e.formatByString(n,u):"",y=null;if(p)if(f)y=""===g?e.formatByString(s,u).length:g.length;else{if(null==m.maxLength)throw new Error(`MUI X: The token ${u} should have a 'maxDigitNumber' property on it's adapter`);y=m.maxLength,h&&(g=(0,i.Gq)((0,i.Yb)((0,i.Ay)(g,l),y),l))}return(0,r.Z)({},m,{format:u,maxLength:y,value:g,placeholder:d(e,t,o,m,u),hasLeadingZerosInFormat:f,hasLeadingZerosInInput:p,startSeparator:c,endSeparator:"",modified:!1})},f=e=>{let t=(({utils:e,format:t})=>{let n=10,r=t,a=e.expandFormat(t);for(;a!==r;)if(r=a,a=e.expandFormat(r),n-=1,n<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return a})(e);e.isRTL&&e.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const n=(({utils:e,expandedFormat:t})=>{const n=[],{start:r,end:a}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${a}]*\\${a})+`,"g");let l=null;for(;l=o.exec(t);)n.push({start:l.index,end:o.lastIndex-1});return n})((0,r.Z)({},e,{expandedFormat:t})),a=(e=>{const{utils:t,expandedFormat:n,escapedParts:a}=e,o=t.date(void 0),l=[];let s="";const i=Object.keys(t.formatTokenMap).sort(((e,t)=>t.length-e.length)),u=/^([a-zA-Z]+)/,c=new RegExp(`^(${i.join("|")})*$`),d=new RegExp(`^(${i.join("|")})`),f=e=>a.find((t=>t.start<=e&&t.end>=e));let p=0;for(;p<n.length;){const t=f(p),a=null!=t,i=u.exec(n.slice(p))?.[1];if(!a&&null!=i&&c.test(i)){let t=i;for(;t.length>0;){const n=d.exec(t)[1];t=t.slice(n.length),l.push(m((0,r.Z)({},e,{now:o,token:n,startSeparator:s}))),s=""}p+=i.length}else{const e=n[p];a&&t?.start===p||t?.end===p||(0===l.length?s+=e:l[l.length-1].endSeparator+=e),p+=1}}return 0===l.length&&s.length>0&&l.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:s,endSeparator:"",modified:!1}),l})((0,r.Z)({},e,{expandedFormat:t,escapedParts:n}));return(({isRTL:e,formatDensity:t,sections:n})=>n.map((n=>{const r=n=>{let r=n;return e&&null!==r&&r.includes(" ")&&(r=`⁩${r}⁦`),"spacious"===t&&["/",".","-"].includes(r)&&(r=` ${r} `),r};return n.startSeparator=r(n.startSeparator),n.endSeparator=r(n.endSeparator),n})))((0,r.Z)({},e,{sections:a}))};u=n(757605),c=n(369032);const p=e=>{const t=(0,s.nB)(),n=(0,s.og)(),d=(0,s.Do)(),m="rtl"===(0,l.Z)().direction,{valueManager:p,fieldValueManager:h,valueType:g,validator:y,internalProps:S,internalProps:{value:V,defaultValue:v,referenceDate:x,onChange:T,format:w,formatDensity:Z="dense",selectedSections:D,onSelectedSectionsChange:M,shouldRespectLeadingZeros:k=!1,timezone:I,enableAccessibleFieldDOMStructure:z=!1}}=e,{timezone:L,value:A,handleValueChange:F}=(0,u.w)({timezone:I,value:V,defaultValue:v,onChange:T,valueManager:p}),b=a.useMemo((()=>(0,i.S9)(t)),[t]),P=a.useMemo((()=>(0,i.IE)(t,b,L)),[t,b,L]),E=a.useCallback(((e,r=null)=>h.getSectionsFromValue(t,e,r,(e=>f({utils:t,timezone:L,localeText:n,localizedDigits:b,format:w,date:e,formatDensity:Z,shouldRespectLeadingZeros:k,enableAccessibleFieldDOMStructure:z,isRTL:m})))),[h,w,n,b,m,k,t,Z,L,z]),[R,N]=a.useState((()=>{const e=E(A);(0,i.wz)(e,g);const n={sections:e,value:A,referenceValue:p.emptyValue,tempValueStrAndroid:null},a=(0,c.hV)(e),o=p.getInitialReferenceValue({referenceDate:x,value:A,utils:t,props:S,granularity:a,timezone:L});return(0,r.Z)({},n,{referenceValue:o})})),[$,C]=(0,o.Z)({controlled:D,default:null,name:"useField",state:"selectedSections"}),Q=e=>{C(e),M?.(e)},B=a.useMemo((()=>(0,i.eM)($,R.sections)),[$,R.sections]),G="all"===B?0:B,j=({value:e,referenceValue:n,sections:a})=>{if(N((t=>(0,r.Z)({},t,{sections:a,value:e,referenceValue:n,tempValueStrAndroid:null}))),p.areValuesEqual(t,R.value,e))return;const o={validationError:y({adapter:d,value:e,props:(0,r.Z)({},S,{value:e,timezone:L})})};F(e,o)},O=(e,t)=>{const n=[...R.sections];return n[e]=(0,r.Z)({},n[e],{value:t,modified:!0}),n};return a.useEffect((()=>{const e=E(R.value);(0,i.wz)(e,g),N((t=>(0,r.Z)({},t,{sections:e})))}),[w,t.locale,m]),a.useEffect((()=>{let e;e=!p.areValuesEqual(t,R.value,A)||p.getTimezone(t,R.value)!==p.getTimezone(t,A),e&&N((e=>(0,r.Z)({},e,{value:A,referenceValue:h.updateReferenceValue(t,A,e.referenceValue),sections:E(A)})))}),[A]),{state:R,activeSectionIndex:G,parsedSelectedSections:B,setSelectedSections:Q,clearValue:()=>{j({value:p.emptyValue,referenceValue:R.referenceValue,sections:E(p.emptyValue)})},clearActiveSection:()=>{if(null==G)return;const e=R.sections[G],n=h.getActiveDateManager(t,R,e),a=n.getSections(R.sections).filter((e=>""!==e.value)).length===(""===e.value?0:1),o=O(G,""),l=a?null:t.getInvalidDate(),s=n.getNewValuesFromNewActiveDate(l);j((0,r.Z)({},s,{sections:o}))},updateSectionValue:({activeSection:e,newSectionValue:n,shouldGoToNextSection:a})=>{a&&G<R.sections.length-1&&Q(G+1);const o=h.getActiveDateManager(t,R,e),l=O(G,n),s=o.getSections(l),u=(0,i.lt)(t,s,b);let c,d;if(null!=u&&t.isValid(u)){const e=(0,i.$9)(t,L,u,s,o.referenceDate,!0);c=o.getNewValuesFromNewActiveDate(e),d=!0}else c=o.getNewValuesFromNewActiveDate(u),d=(null!=u&&!t.isValid(u))!=(null!=o.date&&!t.isValid(o.date));return d?j((0,r.Z)({},c,{sections:l})):N((e=>(0,r.Z)({},e,c,{sections:l,tempValueStrAndroid:null})))},updateValueFromValueStr:e=>{const r=h.parseValueStr(e,R.referenceValue,((e,r)=>{const a=t.parse(e,w);if(null==a||!t.isValid(a))return null;const o=f({utils:t,timezone:L,localeText:n,localizedDigits:b,format:w,date:a,formatDensity:Z,shouldRespectLeadingZeros:k,enableAccessibleFieldDOMStructure:z,isRTL:m});return(0,i.$9)(t,L,a,o,r,!1)})),a=h.updateReferenceValue(t,r,R.referenceValue);j({value:r,referenceValue:a,sections:E(r,R.sections)})},setTempAndroidValueStr:e=>N((t=>(0,r.Z)({},t,{tempValueStrAndroid:e}))),getSectionsFromValue:E,sectionsValueBoundaries:P,localizedDigits:b,timezone:L}}}}]);